head
    title Semimajor Axis Blog
    block ref
        link(rel="stylesheet" href='//netdna.bootstrapcdn.com/bootstrap/3.0.2/css/bootstrap.min.css')
        link(rel="stylesheet" href='//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.min.css')
        link(rel="stylesheet" href="/css/nav.css")
        link(rel="stylesheet" href="/css/footer.css")
        script(src="https://cdn.jsdelivr.net/jquery/3.2.1/jquery.min.js")
        script(src="//netdna.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js")
        
        script.
            $(document).ready(function () {
                var trigger = $('.hamburger'),
                    overlay = $('.overlay'),
                    isClosed = false;

                    trigger.click(function () {
                        hamburger_cross();      
                    });
                    overlay.click(()=>{
                        hamburger_cross();
                    })

                function hamburger_cross() {

                    if (isClosed == true) {          
                        overlay.hide();
                        trigger.removeClass('is-open');
                        trigger.addClass('is-closed');
                        isClosed = false;
                    } else {   
                        overlay.show();
                        trigger.removeClass('is-closed');
                        trigger.addClass('is-open');
                        isClosed = true;
                    }
                }
                $('[data-toggle="offcanvas"]').click(function () {
                    $('#wrapper').toggleClass('toggled');
                });  
            });
               
        meta(charset="utf-8")
body
    block nav
        div(id="wrapper")
            div.overlay(data-toggle="offcanvas")
            nav.navbar.navbar-inverse.navbar-fixed-top(role="navigation" id="sidebar-wrapper")
                ul.nav.sidebar-nav
                    li.sidebar-brand
                        a(href="/") Semimajor Axis
                    unless(user) 
                        li
                            a(href="/auth/login") Login
                    li
                        a(href="/") Home
                    if(user)
                        - var userName = user.local.userName
                        li
                            a(href="/editor/new") Post new blog
                        if(message.authorName)
                            if(user.local.userName === message.authorName && isContentPage)
                                li
                                    a(href="/editor/"+ message.postId) Edit this blog
                        li.dropdown
                            a.dropdown-toggle(href="#" data-toggle="dropdown") 
                                i.fa.fa-fw.fa-user
                                |#{userName}
                                span.caret
                            ul.dropdown-menu(role="menu")
                                li.dropdown-header User Management
                                li
                                    a(href="/auth/logout") Logout
        div(id="page-content-wrapper")
            button.hamburger.is-closed.animated.fadeInLeft(type="button" data-toggle="offcanvas")
                span.hamb-top
                span.hamb-middle
                span.hamb-bottom
                
            
            div.container
                div.row.contents
                    div.col-lg-12
                        block content

        footer.col-lg-12.col-md-12
            div
                hr
                p.col-lg-1.col-md-1.col-lg-offset-5.col-md-offset-5 Powered By
                img.img-responsive.col-lg-1.col-md-1(src="/images/nodejs-logo.png" alt="Node.js")
                                    
